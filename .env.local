# ==============================================
# KRAKEN REAL TRADING ENVIRONMENT CONFIGURATION
# ==============================================
# Copy this to .env.local and configure for your setup

# Kraken API Configuration (REQUIRED for real trading)
# TODO: Replace with your actual Kraken API credentials
KRAKEN_API_KEY=demo_key_replace_with_real
KRAKEN_API_SECRET=demo_secret_replace_with_real

# Trading Mode Configuration
# PAPER: Paper trading with real data (no real money)
# STAGING: Small real money testing ($100-500)
# PRODUCTION: Full real money trading (requires unlock key)
TRADING_MODE=PAPER

# Production Security Keys
PRODUCTION_UNLOCK_KEY=your-secure-production-unlock-key-123
KILL_SWITCH_RESET_KEY=your-emergency-admin-reset-key-456

# ==============================================
# SAFETY LIMITS (Critical for Real Money)
# ==============================================

# Position Size Limits
MAX_POSITION_SIZE_PCT=0.05          # 5% max of portfolio per position
MAX_LEVERAGE=1.0                    # No leverage initially
MIN_ORDER_SIZE_USD=25               # Minimum order: $25
MAX_ORDER_SIZE_USD=1000             # Maximum order: $1000 (adjust as needed)

# Risk Management
DAILY_LOSS_LIMIT_PCT=0.02           # 2% daily loss limit
MAX_DRAWDOWN_PCT=0.10               # 10% maximum drawdown from peak
AUTO_STOP_LOSS_PCT=0.05             # 5% automatic stop loss

# Rate Limiting (Conservative Start)
KRAKEN_API_CALLS_PER_MINUTE=10      # Conservative API rate limit
ORDER_COOLDOWN_SECONDS=5            # Minimum time between orders

# ==============================================
# MONITORING & ALERTS
# ==============================================

# Logging Configuration
LOG_LEVEL=info                      # info, debug, warn, error
LOG_TO_FILE=true                    # Enable file logging
LOG_ROTATION_DAYS=30                # Keep logs for 30 days

# Alert Configuration (Optional)
ALERT_EMAIL=your-email@example.com
ALERT_DISCORD_WEBHOOK=              # Discord webhook URL
ALERT_SLACK_WEBHOOK=                # Slack webhook URL

# Alert Thresholds
ALERT_DAILY_LOSS_PCT=0.015          # Alert at 1.5% daily loss
ALERT_POSITION_SIZE_PCT=0.04        # Alert at 4% position size
ALERT_API_ERROR_COUNT=5             # Alert after 5 API errors

# ==============================================
# BACKTESTING & DATA
# ==============================================

# Historical Data Configuration
CRYPTOCOMPARE_API_KEY=              # Free API key from cryptocompare.com
ENABLE_REAL_DATA=true               # Use real historical data for backtesting
DATA_CACHE_DAYS=7                   # Cache data for 7 days

# ==============================================
# STAGING ENVIRONMENT SETTINGS
# ==============================================
# Use these settings when TRADING_MODE=STAGING

STAGING_MAX_PORTFOLIO_VALUE=500     # Maximum $500 in staging
STAGING_MAX_ORDER_SIZE=50           # Maximum $50 per order
STAGING_PAIRS=XBTUSD,ETHUSD         # Only trade BTC and ETH in staging
STAGING_AUTO_STOP_HOURS=24          # Auto-stop after 24 hours

# ==============================================
# PRODUCTION ENVIRONMENT SETTINGS
# ==============================================
# Use these settings when TRADING_MODE=PRODUCTION

PRODUCTION_MAX_PORTFOLIO_PCT=0.90   # Use max 90% of available funds
PRODUCTION_PAIRS=XBTUSD,ETHUSD,XRPUSD,ADAUSD  # Approved trading pairs
PRODUCTION_REQUIRE_2FA=true         # Require 2FA for critical operations
PRODUCTION_BACKUP_FREQUENCY=1h      # Backup state every hour

# ==============================================
# OPTIONAL INTEGRATIONS
# ==============================================

# Next.js Configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-here

# Vercel KV (Optional - for caching)
KV_URL=
KV_REST_API_URL=
KV_REST_API_TOKEN=

# Twitter API (Optional - for sentiment)
TWITTER_BEARER_TOKEN=

# CryptoPanic API (Optional - for news)
CRYPTOPANIC_API_KEY=

# ==============================================
# DEVELOPMENT SETTINGS
# ==============================================

# Development Overrides (only for local development)
NODE_ENV=development
NEXT_PUBLIC_DEV_MODE=true
ENABLE_DEBUG_LOGGING=true
MOCK_KRAKEN_API=false               # Set to true to use mock data

# ==============================================
# IMPORTANT SECURITY NOTES
# ==============================================
#
# 1. NEVER commit this file with real API keys to version control
# 2. Use different API keys for staging and production
# 3. Regularly rotate your API keys
# 4. Monitor API key usage in Kraken dashboard
# 5. Start with paper trading, then staging, then production
# 6. Always test emergency stop functionality
# 7. Keep unlock keys secure and different from API keys
#
# RECOMMENDED TESTING SEQUENCE:
# 1. PAPER mode: Test strategies with fake money
# 2. STAGING mode: Test with $100-500 real money
# 3. PRODUCTION mode: Only after 1-2 weeks of successful staging

# ==============================================
# KRAKEN API PERMISSIONS REQUIRED
# ==============================================
#
# Your Kraken API key MUST have these permissions:
# ✅ Query Funds (check balances)
# ✅ Query Open Orders & Trades (monitor orders)
# ✅ Query Ledger Entries (transaction history)
# ✅ Create & Modify Orders (place trades)
# ✅ Cancel/Close Orders (cancel orders)
# ✅ Query Trade Balance (portfolio value)
# ⚠️ Withdraw Funds (optional, high risk)
#
# NEVER give Withdraw permissions unless absolutely necessary!

# ==============================================
# ENVIRONMENT VALIDATION CHECKLIST
# ==============================================
#
# Before going live, verify:
# □ KRAKEN_API_KEY is set and valid
# □ KRAKEN_API_SECRET is set and valid
# □ TRADING_MODE is appropriate for your testing phase
# □ Safety limits are conservative for your risk tolerance
# □ Alert endpoints are configured and tested
# □ Emergency stop key is secure and known
# □ Backup procedures are in place
# □ You understand all risks involved in algorithmic trading